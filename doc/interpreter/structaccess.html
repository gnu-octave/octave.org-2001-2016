<html lang="en">
<head>
<title>structaccess - Untitled</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Untitled">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="sysinterface.html#sysinterface" title="sysinterface">
<link rel="prev" href="zp2sys.html#zp2sys" title="zp2sys">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="structaccess"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="zp2sys.html#zp2sys">zp2sys</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="sysinterface.html#sysinterface">sysinterface</a>
<hr>
</div>

<h4 class="subsection">32.2.5 Data structure access functions</h4>

<p><a name="doc_002dsyschnames"></a>

<div class="defun">
&mdash; Function File:  <b>syschnames</b> (<var>sys, opt, list, names</var>)<var><a name="index-syschnames-1542"></a></var><br>
<blockquote><p>Superseded by <samp><span class="command">syssetsignals</span></samp>. 
</p></blockquote></div>

   <p><a name="doc_002dsyschtsam"></a>

<div class="defun">
&mdash; Function File:  <b>syschtsam</b> (<var>sys, tsam</var>)<var><a name="index-syschtsam-1543"></a></var><br>
<blockquote><p>This function changes the sampling time (tsam) of the system.  Exits with
an error if sys is purely continuous time. 
</p></blockquote></div>

   <p><a name="doc_002dsysdimensions"></a>

<div class="defun">
&mdash; Function File: [<var>n</var>, <var>nz</var>, <var>m</var>, <var>p</var>, <var>yd</var>] = <b>sysdimensions</b> (<var>sys, opt</var>)<var><a name="index-sysdimensions-1544"></a></var><br>
<blockquote><p>return the number of states, inputs, and/or outputs in the system
<var>sys</var>.

        <p><strong>Inputs</strong>
          <dl>
<dt><var>sys</var><dd>system data structure

          <br><dt><var>opt</var><dd>String indicating which dimensions are desired.  Values:
               <dl>
<dt><code>"all"</code><dd>(default) return all parameters as specified under Outputs below.

               <br><dt><code>"cst"</code><dd>return <var>n</var>= number of continuous states

               <br><dt><code>"dst"</code><dd>return <var>n</var>= number of discrete states

               <br><dt><code>"in"</code><dd>return <var>n</var>= number of inputs

               <br><dt><code>"out"</code><dd>return <var>n</var>= number of outputs
</dl>
          </dl>

        <p><strong>Outputs</strong>
          <dl>
<dt><var>n</var><dd> number of continuous states (or individual requested dimension as specified
by <var>opt</var>). 
<br><dt><var>nz</var><dd> number of discrete states
<br><dt><var>m</var><dd> number of system inputs
<br><dt><var>p</var><dd> number of system outputs
<br><dt><var>yd</var><dd> binary vector; <var>yd</var>(<var>ii</var>) is nonzero if output <var>ii</var> is
discrete. 
yd(ii) = 0 if output <var>ii</var> is continous
</dl>

        <pre class="sp">
     
     </pre>
     <strong>See also:</strong> sysgetsignals, sysgettsam. 
</p></blockquote></div>

   <p><a name="doc_002dsysgetsignals"></a>

<div class="defun">
&mdash; Function File: [<var>stname</var>, <var>inname</var>, <var>outname</var>, <var>yd</var>] = <b>sysgetsignals</b> (<var>sys</var>)<var><a name="index-sysgetsignals-1545"></a></var><br>
&mdash; Function File: <var>siglist</var> = <b>sysgetsignals</b> (<var>sys, sigid</var>)<var><a name="index-sysgetsignals-1546"></a></var><br>
&mdash; Function File: <var>signame</var> = <b>sysgetsignals</b> (<var>sys, sigid, signum, strflg</var>)<var><a name="index-sysgetsignals-1547"></a></var><br>
<blockquote><p>Get signal names from a system

        <p><strong>Inputs</strong>
          <dl>
<dt><var>sys</var><dd>system data structure for the state space system

          <br><dt><var>sigid</var><dd>signal id.  String.  Must be one of
               <dl>
<dt><code>"in"</code><dd>input signals
<br><dt><code>"out"</code><dd>output signals
<br><dt><code>"st"</code><dd>stage signals
<br><dt><code>"yd"</code><dd>value of logical vector <var>yd</var>
</dl>

          <br><dt><var>signum</var><dd>index(indices) or name(s) or signals; see <code>sysidx</code>

          <br><dt><var>strflg</var><dd>flag to return a string instead of a cell array;  Values:
               <dl>
<dt><code>0</code><dd>(default) return a cell array (even if signum specifies an individual signal)

               <br><dt><code>1</code><dd>return a string.  Exits with an error if signum does not specify an
individual signal. 
</dl>

        </dl>

        <p><strong>Outputs</strong>
          <dl>
<dt>&bull;If <var>sigid</var> is not specified:<dd>
               <dl>
<dt><var>stname</var><dt><var>inname</var><dt><var>outname</var><dd>signal names (cell array of strings);  names of states,
inputs, and outputs, respectively. 
<br><dt><var>yd</var><dd>binary vector; <var>yd</var>(<var>ii</var>) is nonzero if output <var>ii</var> is
discrete. 
</dl>

          <br><dt>&bull;If <var>sigid</var> is specified but <var>signum</var> is not specified:<dd>
               <dl>
<dt><code>sigid="in"</code><dd><var>siglist</var> is set to the cell array of input names.

               <br><dt><code>sigid="out"</code><dd><var>siglist</var> is set to the cell array of output names.

               <br><dt><code>sigid="st"</code><dd><var>siglist</var> is set to the cell array of state names.

               <p>stage signals
<br><dt><code>sigid="yd"</code><dd><var>siglist</var> is set to logical vector indicating discrete outputs;
<var>siglist</var>(<var>ii</var>) = 0 indicates that output <var>ii</var> is continuous
(unsampled), otherwise it is discrete.

          </dl>

          <br><dt>&bull;If the first three input arguments are specified:<dd><var>signame</var> is a cell array of the specified signal names (<var>sigid</var> is
<code>"in"</code>, <code>"out"</code>, or <code>"st"</code>), or else the logical flag
indicating whether output(s) <var>signum</var> is(are) discrete (<var>sigval</var>=1)
or continuous (<var>sigval</var>=0). 
</dl>

        <p><strong>Examples</strong> (From <code>sysrepdemo</code>)
     <pre class="example">          octave&gt; sys=ss(rand(4),rand(4,2),rand(3,4));
          octave&gt;# get all signal names
          octave&gt; [Ast,Ain,Aout,Ayd] = sysgetsignals(sys)
          Ast =
          (
            [1] = x_1
            [2] = x_2
            [3] = x_3
            [4] = x_4
          )
          Ain =
          (
            [1] = u_1
            [2] = u_2
          )
          Aout =
          (
            [1] = y_1
            [2] = y_2
            [3] = y_3
          )
          Ayd =
          
            0  0  0
          octave&gt; # get only input signal names:
          octave&gt; Ain = sysgetsignals(sys,"in")
          Ain =
          (
            [1] = u_1
            [2] = u_2
          )
          octave&gt; # get name of output 2 (in cell array):
          octave&gt; Aout = sysgetsignals(sys,"out",2)
          Aout =
          (
            [1] = y_2
          )
          octave&gt; # get name of output 2 (as string):
          octave&gt; Aout = sysgetsignals(sys,"out",2,1)
          Aout = y_2
     </pre>
        </blockquote></div>

   <p><a name="doc_002dsysgettype"></a>

<div class="defun">
&mdash; Function File:  <b>sysgettype</b> (<var>sys</var>)<var><a name="index-sysgettype-1548"></a></var><br>
<blockquote><p>return the initial system type of the system

        <p><strong>Input</strong>
          <dl>
<dt><var>sys</var><dd>System data structure. 
</dl>

        <p><strong>Output</strong>
          <dl>
<dt><var>systype</var><dd>String indicating how the structure was initially
constructed. Values: <code>"ss"</code>, <code>"zp"</code>, or <code>"tf"</code>. 
</dl>

        <p><acronym>FIR</acronym> initialized systems return <code>systype="tf"</code>. 
</p></blockquote></div>

   <p><a name="doc_002dsyssetsignals"></a>

<div class="defun">
&mdash; Function File:  <b>syssetsignals</b> (<var>sys, opt, names, sig_idx</var>)<var><a name="index-syssetsignals-1549"></a></var><br>
<blockquote><p>change the names of selected inputs, outputs and states.

        <p><strong>Inputs</strong>
          <dl>
<dt><var>sys</var><dd>System data structure.

          <br><dt><var>opt</var><dd>Change default name (output).

               <dl>
<dt><code>"out"</code><dd>Change selected output names. 
<br><dt><code>"in"</code><dd>Change selected input names. 
<br><dt><code>"st"</code><dd>Change selected state names. 
<br><dt><code>"yd"</code><dd>Change selected outputs from discrete to continuous or
from continuous to discrete. 
</dl>

          <br><dt><var>names</var><dd>
               <dl>
<dt><code>opt = "out", "in", "st"</code><dd>string or string array containing desired signal names or values. 
<br><dt><code>opt = "yd"</code><dd>To desired output continuous/discrete flag. 
Set name to 0 for continuous, or 1 for discrete. 
</dl>
          <br><dt><var>sig_idx</var><dd>indices or names of outputs, yd, inputs, or
states whose respective names/values should be changed.

          <p>Default: replace entire cell array of names/entire yd vector. 
</dl>

        <p><strong>Outputs</strong>
          <dl>
<dt><var>retsys</var><dd><var>sys</var> with appropriate signal names changed
(or <var>yd</var> values, where appropriate). 
</dl>

        <p><strong>Example</strong>
     <pre class="example">          octave:1&gt; sys=ss([1 2; 3 4],[5;6],[7 8]);
          octave:2&gt; sys = syssetsignals(sys,"st",str2mat("Posx","Velx"));
          octave:3&gt; sysout(sys)
          Input(s)
                  1: u_1
          Output(s):
                  1: y_1
          state-space form:
          2 continuous states, 0 discrete states
          State(s):
                  1: Posx
                  2: Velx
          A matrix: 2 x 2
            1  2
            3  4
          B matrix: 2 x 1
            5
            6
          C matrix: 1 x 2
            7  8
          D matrix: 1 x 1
          0
     </pre>
        </blockquote></div>

   <p><a name="doc_002dsysupdate"></a>

<div class="defun">
&mdash; Function File:  <b>sysupdate</b> (<var>sys, opt</var>)<var><a name="index-sysupdate-1550"></a></var><br>
<blockquote><p>Update the internal representation of a system.

        <p><strong>Inputs</strong>
          <dl>
<dt><var>sys:</var><dd>system data structure
<br><dt><var>opt</var><dd>string:
               <dl>
<dt><code>"tf"</code><dd>update transfer function form
<br><dt><code>"zp"</code><dd>update zero-pole form
<br><dt><code>"ss"</code><dd>update state space form
<br><dt><code>"all"</code><dd>all of the above
</dl>
          </dl>

        <p><strong>Outputs</strong>
          <dl>
<dt><var>retsys</var><dd>Contains union of data in sys and requested data. 
If requested data in <var>sys</var> is already up to date then <var>retsys</var>=<var>sys</var>. 
</dl>

        <p>Conversion to <samp><span class="command">tf</span></samp> or <samp><span class="command">zp</span></samp> exits with an error if the system is
mixed continuous/digital.
        <pre class="sp">
     
     </pre>
     <strong>See also:</strong> tf, ss, zp, sysout, sys2ss, sys2tf, sys2zp. 
</p></blockquote></div>

   <p><a name="doc_002dminfo"></a>

<div class="defun">
&mdash; Function File: [<var>systype</var>, <var>nout</var>, <var>nin</var>, <var>ncstates</var>, <var>ndstates</var>] = <b>minfo</b> (<var>inmat</var>)<var><a name="index-minfo-1551"></a></var><br>
<blockquote><p>Determines the type of system matrix.  <var>inmat</var> can be a varying,
a system, a constant, and an empty matrix.

        <p><strong>Outputs</strong>
          <dl>
<dt><var>systype</var><dd>Can be one of: varying, system, constant, and empty. 
<br><dt><var>nout</var><dd>The number of outputs of the system. 
<br><dt><var>nin</var><dd>The number of inputs of the system. 
<br><dt><var>ncstates</var><dd>The number of continuous states of the system. 
<br><dt><var>ndstates</var><dd>The number of discrete states of the system. 
</dl>
        </p></blockquote></div>

   <p><a name="doc_002dsysgettsam"></a>

<div class="defun">
&mdash; Function File:  <b>sysgettsam</b> (<var>sys</var>)<var><a name="index-sysgettsam-1552"></a></var><br>
<blockquote><p>Return the sampling time of the system <var>sys</var>. 
</p></blockquote></div>

   </body></html>

